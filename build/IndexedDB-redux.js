"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)){var n=require("indexeddb-tools");module.exports=t(n)}else{var e=window.IndexedDB;window.IndexedDB_Redux=t(e)}}(function(t){return{getAction:function(n){var e=n.name,o=n.version,c=n.objectStoreName,i=n.successAction,r=n.failAction;return function(n){var u=n.data;return function(n,s){return new Promise(function(r,s){t(e,o,{success:function(t,e){var o=this;this.getObjectStore(c).get(u,function(t,e){i&&n(i(t)),r(t),o.close()})}})}).catch(function(t){r&&n(r())})}}},addAction:function(n){var e=n.name,o=n.version,c=n.objectStoreName,i=n.successAction,r=n.failAction;return function(n){var u=n.data;return function(n,s){return new Promise(function(r,s){t(e,o,{success:function(t,e){this.getObjectStore(c).add(u),i&&n(i(u)),r(u),this.close()}})}).catch(function(t){r&&n(r(u))})}}},putAction:function(n){var e=n.name,o=n.version,c=n.objectStoreName,i=n.successAction,r=n.failAction;return function(n){var u=n.data;return function(n,s){return new Promise(function(r,s){t(e,o,{success:function(t,e){this.getObjectStore(c).put(u),i&&n(i(u)),r(u),this.close()}})}).catch(function(t){r&&n(r(u))})}}},deleteAction:function(n){var e=n.name,o=n.version,c=n.objectStoreName,i=n.successAction,r=n.failAction;return function(n){var u=n.data;return function(n,s){return new Promise(function(r,s){t(e,o,{success:function(t,e){this.getObjectStore(c).delete(u),i&&n(i(u)),r(u),this.close()}})}).catch(function(t){r&&n(r(u))})}}},clearAction:function(n){var e=n.name,o=n.version,c=n.objectStoreName,i=n.successAction,r=n.failAction;return function(){return function(n,u){return new Promise(function(r,u){t(e,o,{success:function(t,e){this.getObjectStore(c).clear(),i&&n(i()),r(),this.close()}})}).catch(function(t){r&&n(r(data))})}}},cursorAction:function(n){var e=n.name,o=n.version,c=n.objectStoreName,i=n.successAction,r=n.failAction;return function(n){var u=n.indexName,s=n.range;return function(n,a){return new Promise(function(r,a){t(e,o,{success:function(t,e){var o=this,a=this.getObjectStore(c),f=[u];s&&f.push(s);var l=[];a.cursor.apply(a,f.concat([function(t,e){t?(l.push(t.value),t.continue()):(this.close(),i&&n(i(data)),r(l),o.close())}]))}})}).catch(function(t){r&&n(r())})}}}}});